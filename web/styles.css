* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;}

html, body {
    height: 100%;}

body {
    font-family: Georgia, serif;
    display: grid;
    grid-template-rows: 1fr auto;
    min-height: 100vh;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #223051, #0A0A2A);
    color: #DAD9FF;
    text-align: center;
    height: 100%;
    width: 100%;
    overflow-x: hidden;
    position: relative;
    z-index: 0;
    box-sizing: border-box;}
/* ---------------------------------------- Звёзды ---------------------------------- */
.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    pointer-events: none;
    overflow: hidden;
    z-index: 0;
    background: transparent;
    z-index: 1;}

    .star {
        position: absolute;
        border-radius: 100%;
        animation: twinkle 3s ease-in-out infinite alternate;
        min-width: 0.2vw;
        min-height: 0.2vw;
        background: white;}

    @keyframes twinkle {
        0% { opacity: 0.2vw; transform: scale(0.7); }
        100% { opacity: 1vw; transform: scale(1.9); }}
/* ---------------------------------------- База ---------------------------------- */
.app-container {
    width: 90%;
    max-width: 1200px;
    height: auto;
    min-height: 500px;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: 0 0 3vw #00000081;
    box-sizing: border-box;
    border-radius: 3%;}

    .left-container {
        width: calc(100% - 4vw);
        height: calc(100% - 4vw);
        display: flex;
        flex-direction: column;
        justify-content: center;}

    .center-container {
        width: calc(100% - 4vw);
        height: calc(100% - 4vw);
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 30px;}

    .right-container {
        width: 100%;
        max-width: 400px;
        padding: 20px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        box-sizing: border-box;}
/* ---------------------------------------- Луна ---------------------------------- */
.moon-container {
    width: 30vmin;
    height: 30vmin;
    display: flex;
    justify-content: center;
    align-items: center;}

    #moon {
        width: 25vmin;
        height: 25vmin;
        border-radius: 50%;
        background-color: #e6e6e6;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='10' cy='15' r='6' fill='%23888'/%3E%3Ccircle cx='75' cy='20' r='4' fill='%23bbb'/%3E%3Ccircle cx='20' cy='40' r='5' fill='%23999'/%3E%3Ccircle cx='35' cy='50' r='3' fill='%23888'/%3E%3Ccircle cx='50' cy='55' r='6' fill='%23aaa'/%3E%3Ccircle cx='65' cy='60' r='4' fill='%23777'/%3E%3Ccircle cx='30' cy='70' r='5' fill='%23bbb'/%3E%3Ccircle cx='80' cy='50' r='3' fill='%23777'/%3E%3Ccircle cx='15' cy='60' r='2' fill='%23bbb'/%3E%3Ccircle cx='40' cy='35' r='12' fill='%23d6d6d6'/%3E%3Ccircle cx='60' cy='70' r='10' fill='%23cfcfcf'/%3E%3Ccircle cx='25' cy='50' r='8' fill='%23d0d0d0'/%3E%3Ccircle cx='70' cy='30' r='6' fill='%23d8d8d8'/%3E%3C/svg%3E");
        background-size: 100% 100%;
        background-repeat: no-repeat;
        box-shadow: 0 0 15px #f0f0d0;
        animation: glow 4s ease-in-out infinite alternate;}

    @keyframes glow {
        from {
            box-shadow: 0 0 5vh #f0f0d0, 0 0 25px #f0f0d080;
            transform: scale(1);}
        to {
            box-shadow: 0 0 25px #ffffc2, 0 0 45px #f0f0d0;
            transform: scale(1.05);}}
/* ---------------------------------------- Инфо ---------------------------------- */
.result {
    background: radial-gradient(ellipse 17vmin 12vmin at top center,
        rgba(255, 255, 255, 0.9),
        rgba(255, 255, 240, 0.7),
        rgba(240, 240, 208, 0.5),
        rgba(10, 10, 42, 0.4),
        rgba(10, 10, 42, 0.2)
    );
    border-radius: 5%;
    box-shadow: 0 0 3vw oklch(0% 0 0 / 0.506);
    color: #dad9ff;
    font-size: 1.2vw;
    width: 50vmin;
    height: 50vmin;
    max-height: fit-content;
    padding: 2vh;
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .moon-day {
        font-size: 2vw;
        margin-bottom: 15px;}

    .moon-details .detail-item {
        text-align: justify;
        margin: 1.5vw 2vw;}

    .highlight {
        font-weight: bold;
        color: #f0f0d0;}
/* ---------------------------------------- Кнопки ---------------------------------- */
.controls-container {
    display: none;
    gap: 10px;
    margin-bottom: 15px;
    width: 100%;
    max-width: 400px;
    z-index: 3;
    }
    .btn {
        background: 
        radial-gradient(circle at right, #dad9ff77, transparent 30%),
        linear-gradient(150deg, #223051, #0a0a2aa4);
        border: none;
        border-radius: 5%;
        color: #DAD9FF;
        cursor: pointer;
        flex: 1;
        font-family: Georgia, serif;
        font-size: 2vw;
        margin: 20px 0;
        outline: none;
        padding: 15px 30px;
        transition: all 0.3s ease;}

    .btn:hover {
        background: 
        radial-gradient(circle at right, #ece6daa6, transparent 30%),
        linear-gradient(150deg, rgb(34, 48, 81), #0a0a2aa4);
        transform: translateY(-2px);
        color: #f0f0d0;}

    .btn:disabled {
        background: linear-gradient(135deg, #676189 , #463d85);
        cursor: not-allowed;
        opacity: 0.7;}
/* ---------------------------------------- Выбор даты ---------------------------------- */
.date-input-container {
    background: radial-gradient(135deg, rgba(218, 217, 255, 0.9), rgba(34, 48, 81, 0.7));
    border-radius: 5%;
    box-shadow: 0 0 3vw oklch(0% 0 0 / 0.506);
    color: rgb(218, 217, 255);
    font-size: 1.2vw;
    width: 50vmin;
    height: calc(80vmin + 30px); /* Исправлено: добавлен calc() */
    max-height: calc(80vmin + 30px); /* Исправлено: добавлен calc() */
    padding: 2vh;
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-sizing: border-box; /* Важно: чтобы padding не увеличивал размер */
    overflow: hidden; /* Чтобы содержимое не выходило за границы */
}

    .date-input-row input[type="date"] {
        background: rgba(10, 10, 42, 0.2);
        border-radius: 5%;
        padding: 12px;
        font-size: 16px;
        width: 100% -4vh;
        box-sizing: border-box;
        border: none;
        outline: none;
        color: rgba(218, 217, 255, 0.9);
        cursor: pointer;
        text-align: center;
        flex-direction: column;}

        .date-input-row input[type="date"]::-webkit-calendar-picker-indicator {
            opacity: 0;
            position: absolute;
            right: 0;
            z-index: -1;}

            /* Кнопка отправки */
        .submit-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 5%;
            background: linear-gradient(135deg, #4A5B9C, #2A3560);
            color: #DAD9FF;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease, background 0.3s ease;
            width: 100%;}

        .submit-btn:hover {
            background: linear-gradient(135deg, #5A6CAC, #3A4560);
            transform: translateY(-2px);}

        .submit-btn:active {
            transform: translateY(0);}
        
    .calendar {
        background: #1A2347;
        border-radius: 5%;
        padding: 15px;
        width: 100%;
        box-sizing: border-box;
        text-align: justify;}

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;}

        .calendar-nav {
            background: none;
            border: none;
            color: #DAD9FF;
            font-size: 18px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5%;}

        .calendar-nav:hover {
            background: #2A3560;}

        .calendar-month-year {
            color: #DAD9FF;
            font-weight: bold;
            font-size: 16px;
            text-align: center;}

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;}

        .calendar-weekdays div {
            text-align: center;
            color: #8C94B8;
            font-size: 12px;
            font-weight: bold;}

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;}

        .calendar-day {
            padding: 8px;
            text-align: center;
            border-radius: 5%;
            cursor: pointer;
            transition: background 0.3s ease;
            color: #DAD9FF;}

        .calendar-day:hover {
            background: #2A3560;}

        .calendar-day.selected {
            background: #4A5B9C;
            color: white;}

        .calendar-day.other-month {
            color: #5A6690;}


/* ---------------------------------------- Иконка зодиак ---------------------------------- */
.zodiac-icon {
    width: 4vh;
    height: 4vh;
    vertical-align: middle;
    margin-right: 4vh;
  }

  /* ---------------------------------------- Подвал ---------------------------------- */
* {box-sizing: border-box;}


footer {
    padding: 20px;
    background: #0a0a2a38;
    height: 7vh;
    min-height: 50px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 0;}

.responsive-icon {
    width: min(3vw); /* 50px или 5% от ширины viewport */
    height: auto;
    max-width: 100%;
}